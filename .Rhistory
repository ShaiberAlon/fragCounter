rm(dc.400.jb)
rm(dc.samp.1000.pairs)
rm(frag.normal.jb)
rm(frag.normal.tcga.wxs.jb)
rm(frag.tumor.tcga.wxs.jb)
rm(frag.tum.jb)
lsh
ls()
gc()
pairs.graph
tn
dc
tn
tn %Q% (reads > 0)
dc %Q% (reads.corrected > 0)
dc %Q% (reads > 0)
dc
tn
tn
dc
dc
tn
dc
dc
ls()
CNARA_dc.jb
run(CNARA_dc.jb[1], quiet = FALSE)
outputs(CNARA_dc.jb[1])
Flow::update(CNARA_dc.jb[1])
outputs(CNARA_dc.jb[1])
fread('/gpfs/commons/groups/imielinski_lab/projects/dryclean/TCGA_WXS/CNARA_TN/CNARA/0033_1/output.txt')
run(CNARA_dc.jb[300], quiet = FALSE)
Flow::update(CNARA_dc.jb[300])
outputs(CNARA_dc.jb[300])
fread('/gpfs/commons/groups/imielinski_lab/projects/dryclean/TCGA_WXS/CNARA_TN/CNARA/5243_1/output.txt')
Flow::update(CNARA_dc.jb, mc.cores = 60)
outputs(CNARA_dc.jb['completed; some outputs missing'])
outputs(CNARA_dc.jb['completed; some outputs missing'])[1]
input(CNARA_dc.jb['completed; some outputs missing'])[1]
inputs(CNARA_dc.jb['completed; some outputs missing'])[1]
more(err(CNARA_dc.jb['completed; some outputs missing'])[1])
inputs(CNARA_dc.jb['completed; some outputs missing'])[1]
inputs(CNARA_dc.jb['completed; some outputs missing'])[1]
readRDS('/gpfs/commons/groups/imielinski_lab/projects/dryclean/TCGA_WXS/tumor.ratio/0927_1.rds')
ls()
tmp = readRDS('/gpfs/commons/groups/imielinski_lab/projects/dryclean/TCGA_WXS/tumor.ratio/0927_1.rds')
tmp
tmp %Q% (!is.na(ratio))
tmp %Q% (!is.na(ratio) & ratio > 0)
tmp %Q% (reads > 0)
inputs(CNARA_dc.jb['completed; some outputs missing'])[1]
pairs_tcga
pairs_tcga[1]
pairs_tcga[pair == '0927_1']
pairs
pairs[pair == '0927_1']
ls()
tt = readRDS('/gpfs/commons/groups/imielinski_lab/projects/dryclean/TCGA_WXS/tumor_frag/fragCounter_TW/0927_1/cov.rds')
nn = readRDS('/gpfs/commons/groups/imielinski_lab/projects/dryclean/TCGA_WXS/fragCounter_TW/0927_1/cov.rds')
tt
nn
nn %Q% (reads > 0)
tt %Q% (reads > 0)
ls()
bam = '/gpfs/commons/groups/imielinski_lab/data/TCGA/GDC/WXS/download/1c756135-3cc2-48b5-86e9-99b5b91b8f5f/TCGA-10-0927-01A-02W-0419-10_SOLiD.bam'
bam.cov.exome(bam)
n
n
n
n
n
n
n
n
n
n
n
n
n
n
counts
n
n
n
n
n
n
n
n
n
n
n
n
n
n
bam.cov.exome(bam)
ls()
old
rm(old)
look
rm(look)
comb.man
rm(comb.man)
ls()
rm(manifest)
thresh
burn
rm(nn)
rm(tt)
cov
rm(cov)
ls()
this.cov
rm(this.cov)
ls()
read
reads
rm(reads)
gc()
rm(tcga.codes)
pairs.cbs
rm(pairs.cbs)
gc()
bam.cov.exome(bam)
ls()
rm(bam.cov.exome)
rm(bam)
ls()
CNARA_dc.jb
tn.cnara.pairs
tn.cnara.pairs
tn.cnara.pairs
CNARA.dc.jb
CNARA_dc.jb
run(CNARA_dc.jb[1], quiet = F)
outputs(CNARA_dc.jb[1])
Flow::update(CNARA_dc.jb[1])
outputs(CNARA_dc.jb[1])
fread('/gpfs/commons/groups/imielinski_lab/projects/dryclean/TCGA_WXS/400_PON/CNARA/0033_1/output.txt')
Flow::update(CNARA_dc.jb['ready'])
Flow::update(CNARA_dc.jb['ready'], mc.cores = 70)
CNARA_dc.jb
outdir(CNARA_dc.jb[1])
pairs.graph
pairs
pairs.graph
pairs
setnames(pairs, "path", "tn.path")
pairs
ls()
pairs
pairs
pairs
pairs.pon
pairs.pon
Flow::update(CNARA_dc.jb, mc.cores = 50)
pairs
ls()
CNARA_dc.jb
outputs(CNARA_dc.jb)
outputs(CNARA_dc.jb)[, .(pair, assessment)]
names(pairs)
pairs
pairs
ls()
rm(CNARA_dc.jb)
CNARA_dc.jb = readRDS('/gpfs/commons/groups/imielinski_lab/projects/dryclean/TCGA_WXS/400_PON')
CNARA_dc.jb = readRDS('/gpfs/commons/groups/imielinski_lab/projects/dryclean/TCGA_WXS/400_PON/CNARA.rds')
CNARA_dc.jb
Flow::update(CNARA_dc.jb, mc.cores = 50)
pairs
CNARA_dc.jb
pairs
pairs
names(pairs)
names(pairs)[30]
identical(names(pairs)[30], names(pairs)[31])
identical(names(pairs)[30] = "CNARA_1000"
names(pairs)[30] = "CNARA_1000"
names(pairs)[30] = "CNARA_1000"
names(pairs)
names(pairs)[31] = "CNARA_400"
pairs
pairs[1]
pairs[2]
ls()
rm(dc.1000.jb)
gc()
pairs.pon
pairs
Flow::update(CNARA_dc.jb, mc.cores = 50)
pairs
pairs
ls()
rm(dc.600.jb)
rm(CNARA_dc.jb)
gc()
pairs.pon
ls()
rm(dc.800.jb)
rm(cbs.jb)
x
tsv
rm(tsv)
gc()
dryclean.jb
rm(dryclean.jb)
frag.norm.index
rm(frag.norm.index)
ls()
pairs.cbs
rm(pairs.cbs.1)
clinical_data
rm(clinical_data)
na.path
dc
rm(dc)
ls)(
ls()
tmp
rm(tmp)
ls()
tn
rm(tn)
ls()
sample.types
seg.man
rm(seg.man)
gc()
Flow::update(CNARA_dc.jb, mc.cores = 50)
CNARA_dc.jb['completed; some outputs missing']
inputs(CNARA_dc.jb['completed; some outputs missing'])
pairs
CNARA_dc.jb
pairs
rm(pairs.og)
ls()
tn.cnara.jb = readRDS("/gpfs/commons/groups/imielinski_lab/projects/dryclean/TCGA_WXS/CNARA_TN/CNARA.rds")
tn.cnara.jb
pairs
ls()
rm(CNARA_dc.jb)
rm(tn.cnara.jb)
gc()
ls()
dc.400.jb = readRDS('~/lab/projects/dryclean/TCGA_WXS/400_PON/dryclean_TW.rds')
dc.400.jb
purge(dc.400.jb)
ls()
dc.pairs
rm(dc.pairs)
ls()
mat.dr
rm(mat.dr)
ls()
pairs
ls9)
ls()
pairs.normal
rm(pairs.normal)
ls()
na.path
rm(na.path)
prep_cov
rm(prep_cov)
ls()
pairs.pon
rm(pairs.pon)
ls()
pairs.tumor
rm(pairs.tumor)
ls()
sample.types
rm(sample.types)
thresh
rm(thresh)
pairs.graph
rm(pairs.graph)
ls()
rm(changeCols)
ls()
tn.cnara.pairs
rm(tn.cnara.pairs)
gc()
ls()
qrun(dc.400.jb)
Flow::update(dc.400.jb, mc.cores = 50)
Flow::update(dc.400.jb, mc.cores = 50)
qrun(dc.400.jb)
Flow::update(dc.400.jb, mc.cores = 50)
sum.400
ls()
pairs
ls()
rm(sum.400)
rm(sum.600)
rm(dc.400.jb)
rm(pairs_tcga)
ls()
rm(tmp.pairs)
rm(tn.pairs)
ls()
rm(mat.dr)
ls()
c1.rle
rm(c1.rle)
rm(pairs)
rm(pairs.og)
ls()
gc()
pairs.og
names(pairs.og)
table(pairs.og$normal_sample_type_def)
ls()
pairs.og
readRDS('/gpfs/commons/home/twalradt/downloadTCGA/db/pairs_052818.rds')
pairs_28 = readRDS('/gpfs/commons/home/twalradt/downloadTCGA/db/pairs_052818.rds')
pairs_28
pairs_28[which(!is.na(path))]
pairs.og
pairs_28[which(!is.na(path))]
pairs.og
pair_28
pairs_28
pairs.og
pairs
pairs_28
pairs_28[, path := NULL]
pairs = merge(pairs_28, pairs.og, by = "pair", all.x = TRuE)
pairs = merge(pairs_28, pairs.og, by = "pair", all.x = TRUE)
pairs
saveRDS(pairs, "pairs_053018.rds")
pairs[1]
pairs$tumor_bam_path.x
pairs$tumor_bam_path.y
names(pairs.og)
names(pairs_28
)
setdiff(names(pairs.og), names(pairs_28))
pairs.og[setdiff(names(pairs.og), names(pairs_28))]
pairs.og[,setdiff(names(pairs.og), names(pairs_28))]
pairs.og[,.(setdiff(names(pairs.og), names(pairs_28)))]
pairs.og[CNARA_800]
pairs.og[,CNARA_800]
pairs.og[,.(CNARA_400,CNARA_800)]
setdiff(names(pairs.og), names(pairs_28))
class(setdiff(names(pairs.og), names(pairs_28)))
class(c(setdiff(names(pairs.og), names(pairs_28))))
.(CNARA_400,CNARA_800)
list(CNARA_400,CNARA_800)
pairs.og[,eval(setdiff(names(pairs.og), names(pairs_28)))]
names(pairs.og)
pairs.og[,eval(setdiff(names(pairs.og), names(pairs_28)))]
quote(setdiff(names(pairs.og), names(pairs_28)))
setdiff(names(pairs.og), names(pairs_28))
eval(setdiff(names(pairs.og), names(pairs_28)))
xx = setdiff(names(pairs.og), names(pairs_28))
xx
pairs.og[, .SD, .SDcols = xx]
xx = c("pair", setdiff(names(pairs.og), names(pairs_28)))
xx
pairs.og[, .SD, .SDcols = xx]
pairs.merge = pairs.og[, .SD, .SDcols = xx]
pairs.og
pairs = merge(pairs_28, pairs.merge, by = "pair", all.x = TRUE)
pairs
names(pairs)
pairs.og
names(pairs.og)
saveRDS(pairs, "pairs_053018.rds")
pairs
pairs$tumor_bam_path
sum(!is.na(pairs$tumor_bam_path))
pairs$tumor_filename
sum(!is.na(pairs$tumor_filename))
pairs_tcga = pairs
pairs_tcga
sum(!is.na(pairs_tcga$tumor_bam_path))
sum(!is.na(pairs_tcga$tumor_bam_path))
pairs = pairs_tcga
pairs
pairs_tcga
sum(!is.na(pairs_tcga$tumor_bam_path))
sum(!is.na(pairs_tcga$normal_bam_path))
saveRDS(pairs_tcga, "pairs_053018.rds")
pairs_tcga
saveRDS(pairs_tcga, "/gpfs/commons/home/twalradt/downloadTCGA/db/pairs_053018.rds")
ls()
ls()
ls()
x
xx
rm(xx)
ls()
rm(mat.r1)
rm(mat.r1.t)
rm(mat.blood)
rm(mat.solid)
gc()
ls()
rm(mat.blood.samp)
rm(mat.blood.samp.t)
rm(mat.buccal)
rm(mat.buccal.t)
rm(mat.solid.samp)
rm(mat.solid.samp.t)
ls()
rm(rpca.mat)
gc()
Flow::update(dryclean.jb, mc.cores = 50)
ls()
pairs
ls()
pairs.og
pairs
xx
xx = readRDS('~/downloadTCGA/db/pairs_053018_v2.rds')
xx
names(xx)
dryclean.jb
merge(xx, outputs(dryclean.jb))
merge(xx, outputs(dryclean.jb), all.x = t)
merge(xx, outputs(dryclean.jb), all.x = T)
pairs = merge(xx, outputs(dryclean.jb), all.x = T)
pairs
names(pairs)
setnames(pairs, "decomposed_cov", "decomposed_cov_50")
pairs
names(pairs)
saveRDS(pairs,'~/downloadTCGA/db/pairs_053118.rds')
Flow::update(CNARA_dc.jb, mc.cores = 100)
pairs
ls()
pairs
names(pairs)
pairs
saveRDS(pairs,'~/downloadTCGA/db/pairs_053118.rds')
pairs
pairs
sum.500
sum50
sum.50
ls()
rm(CNARA_dc.jb)
rm(dryclean.jb)
rm(mat.dr)
gc()
ls()
200.sum
sum.200
sum.200[order(variance.200)]
sum.TN2[order(variance.TN2)]
sum.TN2.log2[order(variance.TN2)]
sum.TN.log2
sum.TN.log2[order(variance.TN2)]
sum.200[order(variance.200)]
sum.200[-order(variance.200)]
sum.200[order(-variance.200)]
sum.200[order(-variance.200)][1]
sum.TN.log2[order(-variance.TN2)][1]
sum.600[order(-variance.600)][1]
sum.600[pairs == '4926_1']
sum.200[order(-variance.200)]
sum.200[order(-variance.200)][1:5]
sum.TN.log2[order(-variance.TN2)][1:5]
sum.200[order(-variance.200)][1:8]
sum.600[rating.600 == 'good']
sum.TN.log2[pairs == '3394_1']
pairs
pairs[pairs == '3394_1']
paiars
pairs
pairs[1]
pairs[pairs == '3394']
pairs
pairs[1]
pairs[pair == '3394_1']
sum.600[rating.600 == 'good']
ls()
pairs
ls()
pairs.og
names(pairs.og)
pairs.og[1]
clinical_data = fread("~/data/TCGA/PanCanAtlas/freeze_1.31/clinical_PANCAN_patient_with_followup.tsv")
names(clinical_data)
pairs.og
pairs.og[1]
pairs.og$normal_filename
sum(grep("Illumina.bam",pairs.og$normal_filename))
length(grep("Illumina.bam",pairs.og$normal_filename))
ls()
mat.r1 = readRDS('~/downloadTCGA/db/1000.wxs.master.rds')
s()
ls()
rm(mat.r1)
pairs.og
pairs.og$pairs
pairs.og$pair
ls()
